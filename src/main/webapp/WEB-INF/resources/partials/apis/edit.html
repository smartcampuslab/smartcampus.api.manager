<div class="row animated fadeIn">
    <div ng-hide="!errorMsg" class="alert alert-danger">{{errorMsg}}</div>
    <div ng-hide="!msg" class="alert alert-success">{{msg}}</div>
    <div class="col-md-6 col-md-offset-3">
        <h2>{{title}} Api</h2>
        <form name="main" novalidate role="form" ng-submit="submit()">
            <div class="form-group" show-validation>
                <label for="apiname">Api Name</label>
                <input ng-disabled="api.id != null" type="text" class="form-control" id="apiname" placeholder="Api Name" ng-model="api.name" required />
            </div>
            <div class="form-group" show-validation>
                <label for="apibasepath">Base path</label>
                <input type="text" id="apibasepath" class="form-control" ng-model="api.basePath" required />
            </div>
<!-- 
            <div class="panel panel-default">
                <div class="panel-heading">Api Resources</div>
                <div class="panel-body">
                    <div class="form-group">
                        <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#myModalResource">
                            Add resource
                        </button>
                    </div>
                    
                    <hr/>
          			<div ng-repeat="(n,u,v) in api.resources" class="row">
                		<div class="col-lg-5">{{n}}</div>
                		<div class="col-lg-5">{{u}}</div>
                		<div class="col-lg-5">{{v}}</div>
            		</div>
                    
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">Api Policies</div>
                <div class="panel-body">
 					<div class="form-group">
                        <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#myModalPolicy">
                            Add policy
                        </button>
                    </div>
                    
                    <hr/>
          			<div ng-repeat="(na,no,c,t) in api.policies" class="row">
                		<div class="col-lg-5">{{na}}</div>
                		<div class="col-lg-5">{{no}}</div>
                		<div class="col-lg-5">{{c}}</div>
                		<div class="col-lg-5">{{t}}</div>
            		</div>
                    
                </div>
            </div>
            
            
            <div class="panel panel-default">
                <div class="panel-heading">Api Apps</div>
                <div class="panel-body">
                    <div class="form-group">
                        <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#myModalApp">
                            Add app
                        </button>
                    </div>
                    
                    <hr/>
          			<div ng-repeat="(n,k) in api.apps" class="row">
                		<div class="col-lg-5">{{n}}</div>
                		<div class="col-lg-5">{{k}}</div>
            		</div>
                    
                </div>
            </div>
 -->            
            <button type="submit" ng-disabled="main.$invalid" class="btn btn-info">Save</button>
            <button ng-click="back()" class="pull-right btn btn-default">Go back</button>
        </form>
    </div>
</div>

<!-- Modal 
<div class="modal fade" id="myModalResource" tabindex="-1" role="dialog" aria-labelledby="myModalLabelR" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabelR">Resource</h4>
            </div>
            <div class="modal-body">
            	<form name="form" class="css-form" novalidate>
                        <div class="form-group" shwovalidation>
                            <label for="resourcename">Name</label>
                            <input type="text" class="form-control" id="resourcename" ng-model="api.resources.name" required>
                        </div>
                        <div class="form-group" show-validation>
                            <label for="resourceuri">Uri</label>
                            <input type="text" class="form-control" id="resourceuri" ng-model="api.resources.uri" required>
                        </div>
                        <div class="form-group" show-validation>
                            <label for="resourceverb">Verb</label>
                            <select id="resourceverb" class="form-control" ng-model="api.resources.verb" required>
                    			<option>GET</option>
                    			<option>POST</option>
                    			<option>PUT</option>
                    			<option>DELETE</option>
                			</select>
                		</div>
              </form>


            </div>
            <div class="modal-footer">
                <button type="button" ng-click="cancel()" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" ng-click="keepResource()" ng-disabled="form.$invalid" class="btn btn-primary" data-dismiss="modal">Save changes</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="myModalPolicy" tabindex="-1" role="dialog" aria-labelledby="myModalLabelP" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabelP">Policy</h4>
            </div>
            <div class="modal-body">
            	<form name="form" class="css-form" novalidate>
                        <div class="form-group" shwovalidation>
                            <label for="policyname">Name</label>
                            <input type="text" class="form-control" id="policyname" ng-model="api.policies.name" required>
                        </div>
                        <div class="form-group" show-validation>
                            <label for="policynotes">Notes</label>
                            <input type="text" class="form-control" id="policynotes" ng-model="api.policies.notes">
                        </div>
                        <div class="form-group" show-validation>
                            <label for="policycategory">Category</label>
                            <input type="text" class="form-control" id="policycategory" ng-model="api.policies.category">
                        </div>
                        <div class="form-group" show-validation>
                            <label for="policytype">Type</label>
                            <select id="policy type" class="form-control" ng-model="api.policies.type" required>
                    			<option>Spike Arrest</option>
                    			<option>Quota</option>
                			</select>
                		</div>
              </form>


            </div>
            <div class="modal-footer">
                <button type="button" ng-click="cancel()" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" ng-click="keepPolicy()" ng-disabled="form.$invalid" class="btn btn-primary" data-dismiss="modal">Save changes</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="myModalApp" tabindex="-1" role="dialog" aria-labelledby="myModalLabelA" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabelA">App</h4>
            </div>
            <div class="modal-body">
            	<form name="form" class="css-form" novalidate>
                        <div class="form-group" shwovalidation>
                            <label for="appname">Name</label>
                            <input type="text" class="form-control" id="appname" ng-model="api.apps.name" required>
                        </div>
                        <div class="form-group" show-validation>
                            <label for="appkey">Notes</label>
                            <input type="text" class="form-control" id="appkey" ng-model="api.apps.key">
                        </div>
              </form>


            </div>
            <div class="modal-footer">
                <button type="button" ng-click="cancel()" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" ng-click="keepApp()" ng-disabled="form.$invalid" class="btn btn-primary" data-dismiss="modal">Save changes</button>
            </div>
        </div>
    </div>
</div>
 -->