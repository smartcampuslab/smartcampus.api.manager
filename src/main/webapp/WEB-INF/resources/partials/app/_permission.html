<div>

	<h4>
		<b>Api list</b>
	</h4>

	<br />

	<form name="main" novalidate role="form" ng-submit="submit()">

		<div class="form-group" ng-repeat="p in permissions">

			<div class="table-responsive">
				<table class="table table-striped table-condensed table-bordered">
					<tbody>
					<tr>
					<td align="center"><label>{{p.apiId}}</label></td>
					<td><div ng-repeat="api in list | filter:p.apiId" ng-show="api" align="center">
							Current state: <p><b>{{api.apiStatus}}</b></p>
						</div>
					</td>
					</tr>
						<tr>
							<td><select id="apiStatus" class="form-control"
								ng-model="a.status">
									<option>DEFAULT</option>
									<option ng-repeat="s in p.apiStatus">{{s.name}}</option>
							</select></td>

							<td><input id="apiName" type="checkbox" value="p.apiId"
								ng-model="a.id" 
								ng-click="addApiData(p.apiId,a.status)" 
								> {{p.apiName}} <!-- ng-checked="isApiDataChecked(a.id)" -->
								<br /></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		

		<button type="button" ng-disabled="main.$invalid" class="btn btn-info"
			ng-confirm-click="updatePermission()"
    		ng-confirm-message="You are going to change all permissions for this app. Permissions will be
    		overwritten with this new one. Do you want to continue?"
    		ng-confirm-condition="true">
			<div>Update</div>
		</button>

	</form>

</div>
